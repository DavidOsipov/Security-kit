
 RUN  v3.2.4 /home/david/Security-kit
      Coverage enabled with v8

 ❯ tests/unit/signing-worker-unit.test.ts (11 tests | 1 failed) 21ms
   ✓ signing-worker unit tests > __test_validateHandshakeNonce > should validate base64 nonce correctly 3ms
   ✓ signing-worker unit tests > __test_validateHandshakeNonce > should validate base64url nonce correctly 0ms
   ✓ signing-worker unit tests > __test_validateHandshakeNonce > should validate hex nonce correctly 0ms
   ✓ signing-worker unit tests > __test_validateHandshakeNonce > should reject invalid base64 0ms
   ✓ signing-worker unit tests > __test_validateHandshakeNonce > should reject non-string input 0ms
   × signing-worker unit tests > __test_validateHandshakeNonce > should reject empty string 12ms
     → expected true to be false // Object.is equality
   ✓ signing-worker unit tests > __test_validateHandshakeNonce > should reject nonce exceeding max length 1ms
   ✓ signing-worker unit tests > worker module exports > should export the test helper function 0ms
   ✓ signing-worker unit tests > worker module exports > should be able to import the worker module 0ms
   ✓ signing-worker unit tests > basic functionality > should import without errors 1ms
   ✓ signing-worker unit tests > basic functionality > should have the expected structure 0ms

⎯⎯⎯⎯⎯⎯⎯ Failed Tests 1 ⎯⎯⎯⎯⎯⎯⎯

 FAIL  tests/unit/signing-worker-unit.test.ts > signing-worker unit tests > __test_validateHandshakeNonce > should reject empty string
AssertionError: expected true to be false // Object.is equality

[32m- Expected[39m
[31m+ Received[39m

[32m- false[39m
[31m+ true[39m

 ❯ tests/unit/signing-worker-unit.test.ts:60:29
     58|     it("should reject empty string", () => {
     59|       const validate = workerModule.__test_validateHandshakeNonce;
     60|       expect(validate!("")).toBe(false);
       |                             ^
     61|     });
     62| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[1/1]⎯


 Test Files  1 failed (1)
      Tests  1 failed | 10 passed (11)
   Start at  13:11:15
   Duration  2.44s (transform 276ms, setup 68ms, collect 296ms, tests 21ms, environment 734ms, prepare 154ms)

